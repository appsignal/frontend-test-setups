{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@hotwired/stimulus/dist/stimulus.js","webpack:///./node_modules/@appsignal/core/dist/esm/utils/environment.js","webpack:///./node_modules/unfetch/dist/unfetch.module.js","webpack:///./node_modules/isomorphic-unfetch/browser.js","webpack:///./node_modules/process/browser.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/controllers sync \\.js$","webpack:///./src/controllers/example_controller.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@appsignal/core/dist/esm/utils/functional.js","webpack:///./node_modules/@appsignal/core/dist/esm/utils/hashmap.js","webpack:///./node_modules/@appsignal/core/dist/esm/utils/error.js","webpack:///./node_modules/@appsignal/core/dist/esm/utils/async.js","webpack:///./node_modules/@appsignal/core/dist/esm/serializable.js","webpack:///./node_modules/@appsignal/javascript/dist/esm/environment.js","webpack:///./node_modules/@appsignal/javascript/dist/esm/transports/xdomain.js","webpack:///./node_modules/@appsignal/javascript/dist/esm/transports/xhr.js","webpack:///./node_modules/@appsignal/javascript/dist/esm/transports/fetch.js","webpack:///./node_modules/@appsignal/javascript/dist/esm/transports/node.js","webpack:///./node_modules/@appsignal/javascript/dist/esm/api.js","webpack:///./node_modules/@appsignal/core/dist/esm/utils/url.js","webpack:///./node_modules/@appsignal/javascript/dist/esm/span.js","webpack:///./node_modules/@appsignal/javascript/dist/esm/queue.js","webpack:///./node_modules/@appsignal/javascript/dist/esm/dispatcher.js","webpack:///./src/appsignal.js","webpack:///./node_modules/@appsignal/javascript/dist/esm/index.js","webpack:///./node_modules/@appsignal/javascript/dist/esm/version.js","webpack:///./src/index.js","webpack:///./node_modules/@appsignal/stimulus/dist/esm/index.js","webpack:///./node_modules/@hotwired/stimulus-webpack-helpers/dist/stimulus-webpack-helpers.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","EventListener","eventTarget","eventName","eventOptions","this","unorderedBindings","Set","addEventListener","removeEventListener","binding","add","delete","event","extendedEvent","stopImmediatePropagation","assign","immediatePropagationStopped","extendEvent","bindings","handleEvent","Array","from","sort","left","right","leftIndex","index","rightIndex","Dispatcher","application","eventListenerMaps","Map","started","eventListeners","forEach","eventListener","connect","disconnect","values","reduce","listeners","map","concat","fetchEventListenerForBinding","bindingConnected","bindingDisconnected","error","message","detail","handleError","fetchEventListener","eventListenerMap","fetchEventListenerMapForEventTarget","cacheKey","createEventListener","set","parts","keys","push","join","descriptorPattern","parseEventTarget","eventTargetName","window","document","camelize","replace","_","char","toUpperCase","capitalize","charAt","slice","dasherize","toLowerCase","defaultEventNames","e","getAttribute","Error","typecast","JSON","parse","o_O","Binding","context","action","identifier","willBeInvokedByEvent","invokeWithEvent","method","controller","methodName","target","currentTarget","params","actionEvent","logDebugActivity","element","Element","contains","scope","containsElement","ElementObserver","delegate","mutationObserverInit","attributes","childList","subtree","elements","mutationObserver","MutationObserver","mutations","processMutations","observe","refresh","callback","takeRecords","matches","matchElementsInTree","has","removeElement","addElement","mutation","processMutation","type","processAttributeChange","attributeName","processRemovedNodes","removedNodes","processAddedNodes","addedNodes","node","elementAttributeChanged","matchElement","nodes","elementFromNode","processTree","elementIsActive","tree","processor","nodeType","Node","ELEMENT_NODE","isConnected","elementMatched","elementUnmatched","AttributeObserver","elementObserver","start","pause","stop","hasAttribute","match","querySelectorAll","selector","elementMatchedAttribute","elementUnmatchedAttribute","elementAttributeValueChanged","StringMapObserver","stringMap","attributeOldValue","knownAttributeNames","refreshAttribute","oldValue","getStringMapKeyForAttribute","stringMapKeyAdded","stringMapValueChanged","stringMapKeyRemoved","currentAttributeNames","recordedAttributeNames","attribute","fetch","del","size","prune","Multimap","valuesByKey","some","filter","TokenListObserver","attributeObserver","tokensByElement","tokensMatched","readTokensForElement","unmatchedTokens","matchedTokens","refreshTokensForElement","tokensUnmatched","getValuesForKey","tokens","token","tokenMatched","tokenUnmatched","previousTokens","currentTokens","firstDifferingIndex","length","Math","max","zip","findIndex","previousToken","currentToken","content","tokenString","trim","split","parseTokenString","ValueListObserver","tokenListObserver","parseResultsByToken","WeakMap","valuesByTokenByElement","fetchParseResultForToken","fetchValuesByTokenForElement","elementMatchedValue","elementUnmatchedValue","parseResult","parseToken","valuesByToken","parseValueForToken","BindingObserver","bindingsByAction","valueListObserver","actionAttribute","disconnectAllActions","schema","clear","descriptor","tagName","getDefaultEventNameForElement","descriptorString","options","test","parseActionDescriptorString","eventNameSuffix","getParamsFromEventTargetAttributes","pattern","RegExp","forToken","connectAction","disconnectAction","ValueObserver","receiver","stringMapObserver","valueDescriptorMap","invokeChangedCallbacksForDefaultValues","hasValue","invokeChangedCallback","writer","defaultValue","valueDescriptorNameMap","valueDescriptors","undefined","data","rawValue","rawOldValue","changedMethodName","changedMethod","reader","descriptors","hasMethodName","TargetObserver","targetsByName","disconnectAllTargets","connectTarget","disconnectTarget","_a","targetConnected","targetDisconnected","Context","functionName","controllerConstructor","bindingObserver","dispatcher","valueObserver","targetObserver","initialize","parentElement","invokeControllerMethod","args","readInheritableStaticArrayValues","constructor","propertyName","ancestors","getAncestorsForConstructor","definition","isArray","getOwnStaticArrayValues","readInheritableStaticObjectPairs","pairs","getOwnStaticObjectPairs","getPrototypeOf","reverse","bless","properties","shadowConstructor","extend","shadowProperties","getOwnKeys","shadowingDescriptor","getOwnPropertyDescriptor","getShadowedDescriptor","getShadowProperties","defineProperties","shadow","blessedProperties","blessing","getBlessedProperties","getOwnPropertySymbols","getOwnPropertyNames","extendWithReflect","extended","Reflect","construct","arguments","setPrototypeOf","b","a","testReflectExtension","Module","blessDefinition","contextsByScope","connectedContexts","fetchContextForScope","ClassMap","getDataKey","getAll","getAttributeNameForKey","DataMap","setAttribute","removeAttribute","Guide","logger","warnedKeysByObject","warnedKeys","warn","attributeValueContainsToken","TargetSet","targetName","find","targetNames","findTarget","findLegacyTarget","targets","findAllTargets","findAllLegacyTargets","getSelectorForTargetName","findElement","findAllElements","targetAttributeForScope","getLegacySelectorForTargetName","deprecate","targetDescriptor","targetAttribute","revisedAttributeName","guide","Scope","classes","closest","controllerSelector","queryElements","controllerAttribute","ScopeObserver","scopesByIdentifierByElement","scopeReferenceCounts","scopesByIdentifier","fetchScopesByIdentifierForElement","createScopeForElementAndIdentifier","referenceCount","scopeConnected","scopeDisconnected","Router","scopeObserver","modulesByIdentifier","contexts","unloadIdentifier","connectModule","disconnectModule","connectContextForScope","disconnectContextForScope","defaultSchema","Application","documentElement","console","debug","logFormattedMessage","router","Promise","resolve","readyState","shouldLoad","load","head","rest","loadDefinition","getContextForElementAndIdentifier","onerror","groupCollapsed","log","groupEnd","parseValueDefinitionPair","typeDefinition","typeFromObject","typeObject","parseValueTypeConstant","defaultValueType","parseValueTypeDefault","default","parseValueTypeObject","typeFromDefaultValue","typeFromConstant","parseValueTypeDefinition","constant","defaultValuesByType","defaultValueForDefinition","readers","writers","valueDescriptorForTokenAndTypeDefinition","Boolean","Number","String","toString","boolean","number","string","array","TypeError","writeJSON","stringify","Controller","prefix","bubbles","cancelable","CustomEvent","dispatchEvent","blessings","classDefinition","getAttributeName","targetDefinition","findAll","valueDefinitionPairs","propertyDescriptorMap","result","valueDefinitionPair","valueDescriptor","read","write","hasCustomDefaultValue","propertiesForValueDefinitionPair","isNodeEnv","process","getGlobalObject","global","self","XMLHttpRequest","u","ok","status","statusText","url","responseURL","text","responseText","json","then","blob","Blob","response","clone","headers","entries","open","onload","getAllResponseHeaders","withCredentials","credentials","setRequestHeader","send","body","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","marker","runClearTimeout","Item","noop","nextTick","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","cwd","chdir","dir","umask","g","Function","webpackContext","req","id","webpackContextResolve","code","extendStatics","__proto__","__assign","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","step","next","rejected","done","__generator","f","y","label","sent","trys","ops","verb","iterator","v","op","pop","__values","__read","ar","__spread","compose","funcs","_i","arg","toHashMap","obj","k","getStacktrace","stacktrace","line","stack","_b","Serializable","_data","toJSON","serialize","Environment","transport","origin","globals","navigator","product","location","protocol","hostname","jest","XDomainRequest","supportsPromises","XDomainTransport","_this","rx","XHRTransport","req_1","onreadystatechange","DONE","FetchTransport","res","NodeTransport","request","end","PushApi","_uri","uri","_apiKey","_clientVersion","_transport","_createTransport","_url","span","auth","_authorization","encodeURIComponent","api_key","_super","Span","timestamp","round","Date","getTime","namespace","backtrace","__","__extends","setAction","setNamespace","setError","isError","setTags","tags","toHashMapString","setParams","setBreadcrumbs","breadcrumbs","Queue","item","drain","shift","api","_retries","_timerID","_duration","_api","_queue","limit","initialDuration","reset","schedule","time","expDuration","e_2_1","e_2","_c","_d","floor","pow","return","Appsignal","VERSION","ignored","_breadcrumbs","_hooks","decorators","overrides","_env","revision","ignoreErrors","info","_dispatcher","_options","tagsOrFn","el","error_1","_createSpanFromError","catch","sendError","use","plugin","createSpan","fn","environment","wrap","e_1","addDecorator","decorator","addOverride","override","demo","path","demo_sample","addBreadcrumb","breadcrumb","crumb","metadata","category","unshift","appsignal","prevHandler","framework","installErrorHandler","require","logicalName","identifierForContextKey","definitionForModuleAndIdentifier","definitionForModuleWithContextAndKey","definitionsFromContext"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","/*\nStimulus 3.0.1\nCopyright © 2021 Basecamp, LLC\n */\nclass EventListener {\n    constructor(eventTarget, eventName, eventOptions) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.eventOptions = eventOptions;\n        this.unorderedBindings = new Set();\n    }\n    connect() {\n        this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);\n    }\n    disconnect() {\n        this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);\n    }\n    bindingConnected(binding) {\n        this.unorderedBindings.add(binding);\n    }\n    bindingDisconnected(binding) {\n        this.unorderedBindings.delete(binding);\n    }\n    handleEvent(event) {\n        const extendedEvent = extendEvent(event);\n        for (const binding of this.bindings) {\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    }\n    get bindings() {\n        return Array.from(this.unorderedBindings).sort((left, right) => {\n            const leftIndex = left.index, rightIndex = right.index;\n            return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n        });\n    }\n}\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        const { stopImmediatePropagation } = event;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation() {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation.call(this);\n            }\n        });\n    }\n}\n\nclass Dispatcher {\n    constructor(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map;\n        this.started = false;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach(eventListener => eventListener.connect());\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach(eventListener => eventListener.disconnect());\n        }\n    }\n    get eventListeners() {\n        return Array.from(this.eventListenerMaps.values())\n            .reduce((listeners, map) => listeners.concat(Array.from(map.values())), []);\n    }\n    bindingConnected(binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    }\n    bindingDisconnected(binding) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n    }\n    handleError(error, message, detail = {}) {\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    fetchEventListenerForBinding(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        return this.fetchEventListener(eventTarget, eventName, eventOptions);\n    }\n    fetchEventListener(eventTarget, eventName, eventOptions) {\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        let eventListener = eventListenerMap.get(cacheKey);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName, eventOptions);\n            eventListenerMap.set(cacheKey, eventListener);\n        }\n        return eventListener;\n    }\n    createEventListener(eventTarget, eventName, eventOptions) {\n        const eventListener = new EventListener(eventTarget, eventName, eventOptions);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    }\n    fetchEventListenerMapForEventTarget(eventTarget) {\n        let eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map;\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    }\n    cacheKey(eventName, eventOptions) {\n        const parts = [eventName];\n        Object.keys(eventOptions).sort().forEach(key => {\n            parts.push(`${eventOptions[key] ? \"\" : \"!\"}${key}`);\n        });\n        return parts.join(\":\");\n    }\n}\n\nconst descriptorPattern = /^((.+?)(@(window|document))?->)?(.+?)(#([^:]+?))(:(.+))?$/;\nfunction parseActionDescriptorString(descriptorString) {\n    const source = descriptorString.trim();\n    const matches = source.match(descriptorPattern) || [];\n    return {\n        eventTarget: parseEventTarget(matches[4]),\n        eventName: matches[2],\n        eventOptions: matches[9] ? parseEventOptions(matches[9]) : {},\n        identifier: matches[5],\n        methodName: matches[7]\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nfunction parseEventOptions(eventOptions) {\n    return eventOptions.split(\":\").reduce((options, token) => Object.assign(options, { [token.replace(/^!/, \"\")]: !/^!/.test(token) }), {});\n}\nfunction stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n\nfunction camelize(value) {\n    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());\n}\nfunction capitalize(value) {\n    return value.charAt(0).toUpperCase() + value.slice(1);\n}\nfunction dasherize(value) {\n    return value.replace(/([A-Z])/g, (_, char) => `-${char.toLowerCase()}`);\n}\nfunction tokenize(value) {\n    return value.match(/[^\\s]+/g) || [];\n}\n\nclass Action {\n    constructor(element, index, descriptor) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.eventOptions = descriptor.eventOptions || {};\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n    }\n    static forToken(token) {\n        return new this(token.element, token.index, parseActionDescriptorString(token.content));\n    }\n    toString() {\n        const eventNameSuffix = this.eventTargetName ? `@${this.eventTargetName}` : \"\";\n        return `${this.eventName}${eventNameSuffix}->${this.identifier}#${this.methodName}`;\n    }\n    get params() {\n        if (this.eventTarget instanceof Element) {\n            return this.getParamsFromEventTargetAttributes(this.eventTarget);\n        }\n        else {\n            return {};\n        }\n    }\n    getParamsFromEventTargetAttributes(eventTarget) {\n        const params = {};\n        const pattern = new RegExp(`^data-${this.identifier}-(.+)-param$`);\n        const attributes = Array.from(eventTarget.attributes);\n        attributes.forEach(({ name, value }) => {\n            const match = name.match(pattern);\n            const key = match && match[1];\n            if (key) {\n                Object.assign(params, { [camelize(key)]: typecast(value) });\n            }\n        });\n        return params;\n    }\n    get eventTargetName() {\n        return stringifyEventTarget(this.eventTarget);\n    }\n}\nconst defaultEventNames = {\n    \"a\": e => \"click\",\n    \"button\": e => \"click\",\n    \"form\": e => \"submit\",\n    \"details\": e => \"toggle\",\n    \"input\": e => e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"input\",\n    \"select\": e => \"change\",\n    \"textarea\": e => \"input\"\n};\nfunction getDefaultEventNameForElement(element) {\n    const tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\nfunction typecast(value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (o_O) {\n        return value;\n    }\n}\n\nclass Binding {\n    constructor(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    get index() {\n        return this.action.index;\n    }\n    get eventTarget() {\n        return this.action.eventTarget;\n    }\n    get eventOptions() {\n        return this.action.eventOptions;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    handleEvent(event) {\n        if (this.willBeInvokedByEvent(event)) {\n            this.invokeWithEvent(event);\n        }\n    }\n    get eventName() {\n        return this.action.eventName;\n    }\n    get method() {\n        const method = this.controller[this.methodName];\n        if (typeof method == \"function\") {\n            return method;\n        }\n        throw new Error(`Action \"${this.action}\" references undefined method \"${this.methodName}\"`);\n    }\n    invokeWithEvent(event) {\n        const { target, currentTarget } = event;\n        try {\n            const { params } = this.action;\n            const actionEvent = Object.assign(event, { params });\n            this.method.call(this.controller, actionEvent);\n            this.context.logDebugActivity(this.methodName, { event, target, currentTarget, action: this.methodName });\n        }\n        catch (error) {\n            const { identifier, controller, element, index } = this;\n            const detail = { identifier, controller, element, index, event };\n            this.context.handleError(error, `invoking action \"${this.action}\"`, detail);\n        }\n    }\n    willBeInvokedByEvent(event) {\n        const eventTarget = event.target;\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return this.scope.containsElement(this.action.element);\n        }\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    get methodName() {\n        return this.action.methodName;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nclass ElementObserver {\n    constructor(element, delegate) {\n        this.mutationObserverInit = { attributes: true, childList: true, subtree: true };\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set;\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.refresh();\n        }\n    }\n    pause(callback) {\n        if (this.started) {\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n        callback();\n        if (!this.started) {\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            const matches = new Set(this.matchElementsInTree());\n            for (const element of Array.from(this.elements)) {\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (const element of Array.from(matches)) {\n                this.addElement(element);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    }\n    processAttributeChange(node, attributeName) {\n        const element = node;\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    }\n    processRemovedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    }\n    processAddedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    }\n    matchElement(element) {\n        return this.delegate.matchElement(element);\n    }\n    matchElementsInTree(tree = this.element) {\n        return this.delegate.matchElementsInTree(tree);\n    }\n    processTree(tree, processor) {\n        for (const element of this.matchElementsInTree(tree)) {\n            processor.call(this, element);\n        }\n    }\n    elementFromNode(node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    }\n    elementIsActive(element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    }\n    addElement(element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    }\n    removeElement(element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    }\n}\n\nclass AttributeObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    get selector() {\n        return `[${this.attributeName}]`;\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    matchElement(element) {\n        return element.hasAttribute(this.attributeName);\n    }\n    matchElementsInTree(tree) {\n        const match = this.matchElement(tree) ? [tree] : [];\n        const matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    }\n    elementMatched(element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementUnmatched(element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementAttributeChanged(element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    }\n}\n\nclass StringMapObserver {\n    constructor(element, delegate) {\n        this.element = element;\n        this.delegate = delegate;\n        this.started = false;\n        this.stringMap = new Map;\n        this.mutationObserver = new MutationObserver(mutations => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, attributeOldValue: true });\n            this.refresh();\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            for (const attributeName of this.knownAttributeNames) {\n                this.refreshAttribute(attributeName, null);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        const attributeName = mutation.attributeName;\n        if (attributeName) {\n            this.refreshAttribute(attributeName, mutation.oldValue);\n        }\n    }\n    refreshAttribute(attributeName, oldValue) {\n        const key = this.delegate.getStringMapKeyForAttribute(attributeName);\n        if (key != null) {\n            if (!this.stringMap.has(attributeName)) {\n                this.stringMapKeyAdded(key, attributeName);\n            }\n            const value = this.element.getAttribute(attributeName);\n            if (this.stringMap.get(attributeName) != value) {\n                this.stringMapValueChanged(value, key, oldValue);\n            }\n            if (value == null) {\n                const oldValue = this.stringMap.get(attributeName);\n                this.stringMap.delete(attributeName);\n                if (oldValue)\n                    this.stringMapKeyRemoved(key, attributeName, oldValue);\n            }\n            else {\n                this.stringMap.set(attributeName, value);\n            }\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        if (this.delegate.stringMapKeyAdded) {\n            this.delegate.stringMapKeyAdded(key, attributeName);\n        }\n    }\n    stringMapValueChanged(value, key, oldValue) {\n        if (this.delegate.stringMapValueChanged) {\n            this.delegate.stringMapValueChanged(value, key, oldValue);\n        }\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        if (this.delegate.stringMapKeyRemoved) {\n            this.delegate.stringMapKeyRemoved(key, attributeName, oldValue);\n        }\n    }\n    get knownAttributeNames() {\n        return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));\n    }\n    get currentAttributeNames() {\n        return Array.from(this.element.attributes).map(attribute => attribute.name);\n    }\n    get recordedAttributeNames() {\n        return Array.from(this.stringMap.keys());\n    }\n}\n\nfunction add(map, key, value) {\n    fetch(map, key).add(value);\n}\nfunction del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nfunction fetch(map, key) {\n    let values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nfunction prune(map, key) {\n    const values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n\nclass Multimap {\n    constructor() {\n        this.valuesByKey = new Map();\n    }\n    get keys() {\n        return Array.from(this.valuesByKey.keys());\n    }\n    get values() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((values, set) => values.concat(Array.from(set)), []);\n    }\n    get size() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((size, set) => size + set.size, 0);\n    }\n    add(key, value) {\n        add(this.valuesByKey, key, value);\n    }\n    delete(key, value) {\n        del(this.valuesByKey, key, value);\n    }\n    has(key, value) {\n        const values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    }\n    hasKey(key) {\n        return this.valuesByKey.has(key);\n    }\n    hasValue(value) {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.some(set => set.has(value));\n    }\n    getValuesForKey(key) {\n        const values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    }\n    getKeysForValue(value) {\n        return Array.from(this.valuesByKey)\n            .filter(([key, values]) => values.has(value))\n            .map(([key, values]) => key);\n    }\n}\n\nclass IndexedMultimap extends Multimap {\n    constructor() {\n        super();\n        this.keysByValue = new Map;\n    }\n    get values() {\n        return Array.from(this.keysByValue.keys());\n    }\n    add(key, value) {\n        super.add(key, value);\n        add(this.keysByValue, value, key);\n    }\n    delete(key, value) {\n        super.delete(key, value);\n        del(this.keysByValue, value, key);\n    }\n    hasValue(value) {\n        return this.keysByValue.has(value);\n    }\n    getKeysForValue(value) {\n        const set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    }\n}\n\nclass TokenListObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap;\n    }\n    get started() {\n        return this.attributeObserver.started;\n    }\n    start() {\n        this.attributeObserver.start();\n    }\n    pause(callback) {\n        this.attributeObserver.pause(callback);\n    }\n    stop() {\n        this.attributeObserver.stop();\n    }\n    refresh() {\n        this.attributeObserver.refresh();\n    }\n    get element() {\n        return this.attributeObserver.element;\n    }\n    get attributeName() {\n        return this.attributeObserver.attributeName;\n    }\n    elementMatchedAttribute(element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    }\n    elementAttributeValueChanged(element) {\n        const [unmatchedTokens, matchedTokens] = this.refreshTokensForElement(element);\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    }\n    elementUnmatchedAttribute(element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    }\n    tokensMatched(tokens) {\n        tokens.forEach(token => this.tokenMatched(token));\n    }\n    tokensUnmatched(tokens) {\n        tokens.forEach(token => this.tokenUnmatched(token));\n    }\n    tokenMatched(token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    }\n    tokenUnmatched(token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    }\n    refreshTokensForElement(element) {\n        const previousTokens = this.tokensByElement.getValuesForKey(element);\n        const currentTokens = this.readTokensForElement(element);\n        const firstDifferingIndex = zip(previousTokens, currentTokens)\n            .findIndex(([previousToken, currentToken]) => !tokensAreEqual(previousToken, currentToken));\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    }\n    readTokensForElement(element) {\n        const attributeName = this.attributeName;\n        const tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    }\n}\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString.trim().split(/\\s+/).filter(content => content.length)\n        .map((content, index) => ({ element, attributeName, content, index }));\n}\nfunction zip(left, right) {\n    const length = Math.max(left.length, right.length);\n    return Array.from({ length }, (_, index) => [left[index], right[index]]);\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n\nclass ValueListObserver {\n    constructor(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap;\n        this.valuesByTokenByElement = new WeakMap;\n    }\n    get started() {\n        return this.tokenListObserver.started;\n    }\n    start() {\n        this.tokenListObserver.start();\n    }\n    stop() {\n        this.tokenListObserver.stop();\n    }\n    refresh() {\n        this.tokenListObserver.refresh();\n    }\n    get element() {\n        return this.tokenListObserver.element;\n    }\n    get attributeName() {\n        return this.tokenListObserver.attributeName;\n    }\n    tokenMatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    }\n    tokenUnmatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    }\n    fetchParseResultForToken(token) {\n        let parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    }\n    fetchValuesByTokenForElement(element) {\n        let valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map;\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    }\n    parseToken(token) {\n        try {\n            const value = this.delegate.parseValueForToken(token);\n            return { value };\n        }\n        catch (error) {\n            return { error };\n        }\n    }\n}\n\nclass BindingObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map;\n    }\n    start() {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    }\n    stop() {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    }\n    get element() {\n        return this.context.element;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get actionAttribute() {\n        return this.schema.actionAttribute;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get bindings() {\n        return Array.from(this.bindingsByAction.values());\n    }\n    connectAction(action) {\n        const binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    }\n    disconnectAction(action) {\n        const binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    }\n    disconnectAllActions() {\n        this.bindings.forEach(binding => this.delegate.bindingDisconnected(binding));\n        this.bindingsByAction.clear();\n    }\n    parseValueForToken(token) {\n        const action = Action.forToken(token);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    }\n    elementMatchedValue(element, action) {\n        this.connectAction(action);\n    }\n    elementUnmatchedValue(element, action) {\n        this.disconnectAction(action);\n    }\n}\n\nclass ValueObserver {\n    constructor(context, receiver) {\n        this.context = context;\n        this.receiver = receiver;\n        this.stringMapObserver = new StringMapObserver(this.element, this);\n        this.valueDescriptorMap = this.controller.valueDescriptorMap;\n        this.invokeChangedCallbacksForDefaultValues();\n    }\n    start() {\n        this.stringMapObserver.start();\n    }\n    stop() {\n        this.stringMapObserver.stop();\n    }\n    get element() {\n        return this.context.element;\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    getStringMapKeyForAttribute(attributeName) {\n        if (attributeName in this.valueDescriptorMap) {\n            return this.valueDescriptorMap[attributeName].name;\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        const descriptor = this.valueDescriptorMap[attributeName];\n        if (!this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), descriptor.writer(descriptor.defaultValue));\n        }\n    }\n    stringMapValueChanged(value, name, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[name];\n        if (value === null)\n            return;\n        if (oldValue === null) {\n            oldValue = descriptor.writer(descriptor.defaultValue);\n        }\n        this.invokeChangedCallback(name, value, oldValue);\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[key];\n        if (this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), oldValue);\n        }\n        else {\n            this.invokeChangedCallback(key, descriptor.writer(descriptor.defaultValue), oldValue);\n        }\n    }\n    invokeChangedCallbacksForDefaultValues() {\n        for (const { key, name, defaultValue, writer } of this.valueDescriptors) {\n            if (defaultValue != undefined && !this.controller.data.has(key)) {\n                this.invokeChangedCallback(name, writer(defaultValue), undefined);\n            }\n        }\n    }\n    invokeChangedCallback(name, rawValue, rawOldValue) {\n        const changedMethodName = `${name}Changed`;\n        const changedMethod = this.receiver[changedMethodName];\n        if (typeof changedMethod == \"function\") {\n            const descriptor = this.valueDescriptorNameMap[name];\n            const value = descriptor.reader(rawValue);\n            let oldValue = rawOldValue;\n            if (rawOldValue) {\n                oldValue = descriptor.reader(rawOldValue);\n            }\n            changedMethod.call(this.receiver, value, oldValue);\n        }\n    }\n    get valueDescriptors() {\n        const { valueDescriptorMap } = this;\n        return Object.keys(valueDescriptorMap).map(key => valueDescriptorMap[key]);\n    }\n    get valueDescriptorNameMap() {\n        const descriptors = {};\n        Object.keys(this.valueDescriptorMap).forEach(key => {\n            const descriptor = this.valueDescriptorMap[key];\n            descriptors[descriptor.name] = descriptor;\n        });\n        return descriptors;\n    }\n    hasValue(attributeName) {\n        const descriptor = this.valueDescriptorNameMap[attributeName];\n        const hasMethodName = `has${capitalize(descriptor.name)}`;\n        return this.receiver[hasMethodName];\n    }\n}\n\nclass TargetObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.targetsByName = new Multimap;\n    }\n    start() {\n        if (!this.tokenListObserver) {\n            this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);\n            this.tokenListObserver.start();\n        }\n    }\n    stop() {\n        if (this.tokenListObserver) {\n            this.disconnectAllTargets();\n            this.tokenListObserver.stop();\n            delete this.tokenListObserver;\n        }\n    }\n    tokenMatched({ element, content: name }) {\n        if (this.scope.containsElement(element)) {\n            this.connectTarget(element, name);\n        }\n    }\n    tokenUnmatched({ element, content: name }) {\n        this.disconnectTarget(element, name);\n    }\n    connectTarget(element, name) {\n        var _a;\n        if (!this.targetsByName.has(name, element)) {\n            this.targetsByName.add(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetConnected(element, name));\n        }\n    }\n    disconnectTarget(element, name) {\n        var _a;\n        if (this.targetsByName.has(name, element)) {\n            this.targetsByName.delete(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetDisconnected(element, name));\n        }\n    }\n    disconnectAllTargets() {\n        for (const name of this.targetsByName.keys) {\n            for (const element of this.targetsByName.getValuesForKey(name)) {\n                this.disconnectTarget(element, name);\n            }\n        }\n    }\n    get attributeName() {\n        return `data-${this.context.identifier}-target`;\n    }\n    get element() {\n        return this.context.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nclass Context {\n    constructor(module, scope) {\n        this.logDebugActivity = (functionName, detail = {}) => {\n            const { identifier, controller, element } = this;\n            detail = Object.assign({ identifier, controller, element }, detail);\n            this.application.logDebugActivity(this.identifier, functionName, detail);\n        };\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        this.valueObserver = new ValueObserver(this, this.controller);\n        this.targetObserver = new TargetObserver(this, this);\n        try {\n            this.controller.initialize();\n            this.logDebugActivity(\"initialize\");\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    connect() {\n        this.bindingObserver.start();\n        this.valueObserver.start();\n        this.targetObserver.start();\n        try {\n            this.controller.connect();\n            this.logDebugActivity(\"connect\");\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    }\n    disconnect() {\n        try {\n            this.controller.disconnect();\n            this.logDebugActivity(\"disconnect\");\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.targetObserver.stop();\n        this.valueObserver.stop();\n        this.bindingObserver.stop();\n    }\n    get application() {\n        return this.module.application;\n    }\n    get identifier() {\n        return this.module.identifier;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get dispatcher() {\n        return this.application.dispatcher;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get parentElement() {\n        return this.element.parentElement;\n    }\n    handleError(error, message, detail = {}) {\n        const { identifier, controller, element } = this;\n        detail = Object.assign({ identifier, controller, element }, detail);\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    targetConnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetConnected`, element);\n    }\n    targetDisconnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetDisconnected`, element);\n    }\n    invokeControllerMethod(methodName, ...args) {\n        const controller = this.controller;\n        if (typeof controller[methodName] == \"function\") {\n            controller[methodName](...args);\n        }\n    }\n}\n\nfunction readInheritableStaticArrayValues(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce((values, constructor) => {\n        getOwnStaticArrayValues(constructor, propertyName).forEach(name => values.add(name));\n        return values;\n    }, new Set));\n}\nfunction readInheritableStaticObjectPairs(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return ancestors.reduce((pairs, constructor) => {\n        pairs.push(...getOwnStaticObjectPairs(constructor, propertyName));\n        return pairs;\n    }, []);\n}\nfunction getAncestorsForConstructor(constructor) {\n    const ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors.reverse();\n}\nfunction getOwnStaticArrayValues(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction getOwnStaticObjectPairs(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return definition ? Object.keys(definition).map(key => [key, definition[key]]) : [];\n}\n\nfunction bless(constructor) {\n    return shadow(constructor, getBlessedProperties(constructor));\n}\nfunction shadow(constructor, properties) {\n    const shadowConstructor = extend(constructor);\n    const shadowProperties = getShadowProperties(constructor.prototype, properties);\n    Object.defineProperties(shadowConstructor.prototype, shadowProperties);\n    return shadowConstructor;\n}\nfunction getBlessedProperties(constructor) {\n    const blessings = readInheritableStaticArrayValues(constructor, \"blessings\");\n    return blessings.reduce((blessedProperties, blessing) => {\n        const properties = blessing(constructor);\n        for (const key in properties) {\n            const descriptor = blessedProperties[key] || {};\n            blessedProperties[key] = Object.assign(descriptor, properties[key]);\n        }\n        return blessedProperties;\n    }, {});\n}\nfunction getShadowProperties(prototype, properties) {\n    return getOwnKeys(properties).reduce((shadowProperties, key) => {\n        const descriptor = getShadowedDescriptor(prototype, properties, key);\n        if (descriptor) {\n            Object.assign(shadowProperties, { [key]: descriptor });\n        }\n        return shadowProperties;\n    }, {});\n}\nfunction getShadowedDescriptor(prototype, properties, key) {\n    const shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);\n    const shadowedByValue = shadowingDescriptor && \"value\" in shadowingDescriptor;\n    if (!shadowedByValue) {\n        const descriptor = Object.getOwnPropertyDescriptor(properties, key).value;\n        if (shadowingDescriptor) {\n            descriptor.get = shadowingDescriptor.get || descriptor.get;\n            descriptor.set = shadowingDescriptor.set || descriptor.set;\n        }\n        return descriptor;\n    }\n}\nconst getOwnKeys = (() => {\n    if (typeof Object.getOwnPropertySymbols == \"function\") {\n        return (object) => [\n            ...Object.getOwnPropertyNames(object),\n            ...Object.getOwnPropertySymbols(object)\n        ];\n    }\n    else {\n        return Object.getOwnPropertyNames;\n    }\n})();\nconst extend = (() => {\n    function extendWithReflect(constructor) {\n        function extended() {\n            return Reflect.construct(constructor, arguments, new.target);\n        }\n        extended.prototype = Object.create(constructor.prototype, {\n            constructor: { value: extended }\n        });\n        Reflect.setPrototypeOf(extended, constructor);\n        return extended;\n    }\n    function testReflectExtension() {\n        const a = function () { this.a.call(this); };\n        const b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b;\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return (constructor) => class extended extends constructor {\n        };\n    }\n})();\n\nfunction blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: bless(definition.controllerConstructor)\n    };\n}\n\nclass Module {\n    constructor(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap;\n        this.connectedContexts = new Set;\n    }\n    get identifier() {\n        return this.definition.identifier;\n    }\n    get controllerConstructor() {\n        return this.definition.controllerConstructor;\n    }\n    get contexts() {\n        return Array.from(this.connectedContexts);\n    }\n    connectContextForScope(scope) {\n        const context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    }\n    disconnectContextForScope(scope) {\n        const context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    }\n    fetchContextForScope(scope) {\n        let context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    }\n}\n\nclass ClassMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    has(name) {\n        return this.data.has(this.getDataKey(name));\n    }\n    get(name) {\n        return this.getAll(name)[0];\n    }\n    getAll(name) {\n        const tokenString = this.data.get(this.getDataKey(name)) || \"\";\n        return tokenize(tokenString);\n    }\n    getAttributeName(name) {\n        return this.data.getAttributeNameForKey(this.getDataKey(name));\n    }\n    getDataKey(name) {\n        return `${name}-class`;\n    }\n    get data() {\n        return this.scope.data;\n    }\n}\n\nclass DataMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.getAttribute(name);\n    }\n    set(key, value) {\n        const name = this.getAttributeNameForKey(key);\n        this.element.setAttribute(name, value);\n        return this.get(key);\n    }\n    has(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.hasAttribute(name);\n    }\n    delete(key) {\n        if (this.has(key)) {\n            const name = this.getAttributeNameForKey(key);\n            this.element.removeAttribute(name);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    getAttributeNameForKey(key) {\n        return `data-${this.identifier}-${dasherize(key)}`;\n    }\n}\n\nclass Guide {\n    constructor(logger) {\n        this.warnedKeysByObject = new WeakMap;\n        this.logger = logger;\n    }\n    warn(object, key, message) {\n        let warnedKeys = this.warnedKeysByObject.get(object);\n        if (!warnedKeys) {\n            warnedKeys = new Set;\n            this.warnedKeysByObject.set(object, warnedKeys);\n        }\n        if (!warnedKeys.has(key)) {\n            warnedKeys.add(key);\n            this.logger.warn(message, object);\n        }\n    }\n}\n\nfunction attributeValueContainsToken(attributeName, token) {\n    return `[${attributeName}~=\"${token}\"]`;\n}\n\nclass TargetSet {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(targetName) {\n        return this.find(targetName) != null;\n    }\n    find(...targetNames) {\n        return targetNames.reduce((target, targetName) => target\n            || this.findTarget(targetName)\n            || this.findLegacyTarget(targetName), undefined);\n    }\n    findAll(...targetNames) {\n        return targetNames.reduce((targets, targetName) => [\n            ...targets,\n            ...this.findAllTargets(targetName),\n            ...this.findAllLegacyTargets(targetName)\n        ], []);\n    }\n    findTarget(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findElement(selector);\n    }\n    findAllTargets(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector);\n    }\n    getSelectorForTargetName(targetName) {\n        const attributeName = this.schema.targetAttributeForScope(this.identifier);\n        return attributeValueContainsToken(attributeName, targetName);\n    }\n    findLegacyTarget(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.deprecate(this.scope.findElement(selector), targetName);\n    }\n    findAllLegacyTargets(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector).map(element => this.deprecate(element, targetName));\n    }\n    getLegacySelectorForTargetName(targetName) {\n        const targetDescriptor = `${this.identifier}.${targetName}`;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    }\n    deprecate(element, targetName) {\n        if (element) {\n            const { identifier } = this;\n            const attributeName = this.schema.targetAttribute;\n            const revisedAttributeName = this.schema.targetAttributeForScope(identifier);\n            this.guide.warn(element, `target:${targetName}`, `Please replace ${attributeName}=\"${identifier}.${targetName}\" with ${revisedAttributeName}=\"${targetName}\". ` +\n                `The ${attributeName} attribute is deprecated and will be removed in a future version of Stimulus.`);\n        }\n        return element;\n    }\n    get guide() {\n        return this.scope.guide;\n    }\n}\n\nclass Scope {\n    constructor(schema, element, identifier, logger) {\n        this.targets = new TargetSet(this);\n        this.classes = new ClassMap(this);\n        this.data = new DataMap(this);\n        this.containsElement = (element) => {\n            return element.closest(this.controllerSelector) === this.element;\n        };\n        this.schema = schema;\n        this.element = element;\n        this.identifier = identifier;\n        this.guide = new Guide(logger);\n    }\n    findElement(selector) {\n        return this.element.matches(selector)\n            ? this.element\n            : this.queryElements(selector).find(this.containsElement);\n    }\n    findAllElements(selector) {\n        return [\n            ...this.element.matches(selector) ? [this.element] : [],\n            ...this.queryElements(selector).filter(this.containsElement)\n        ];\n    }\n    queryElements(selector) {\n        return Array.from(this.element.querySelectorAll(selector));\n    }\n    get controllerSelector() {\n        return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n    }\n}\n\nclass ScopeObserver {\n    constructor(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap;\n        this.scopeReferenceCounts = new WeakMap;\n    }\n    start() {\n        this.valueListObserver.start();\n    }\n    stop() {\n        this.valueListObserver.stop();\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    parseValueForToken(token) {\n        const { element, content: identifier } = token;\n        const scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        let scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    }\n    elementMatchedValue(element, value) {\n        const referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    }\n    elementUnmatchedValue(element, value) {\n        const referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    }\n    fetchScopesByIdentifierForElement(element) {\n        let scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map;\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    }\n}\n\nclass Router {\n    constructor(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap;\n        this.modulesByIdentifier = new Map;\n    }\n    get element() {\n        return this.application.element;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get logger() {\n        return this.application.logger;\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    get modules() {\n        return Array.from(this.modulesByIdentifier.values());\n    }\n    get contexts() {\n        return this.modules.reduce((contexts, module) => contexts.concat(module.contexts), []);\n    }\n    start() {\n        this.scopeObserver.start();\n    }\n    stop() {\n        this.scopeObserver.stop();\n    }\n    loadDefinition(definition) {\n        this.unloadIdentifier(definition.identifier);\n        const module = new Module(this.application, definition);\n        this.connectModule(module);\n    }\n    unloadIdentifier(identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    }\n    getContextForElementAndIdentifier(element, identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find(context => context.element == element);\n        }\n    }\n    handleError(error, message, detail) {\n        this.application.handleError(error, message, detail);\n    }\n    createScopeForElementAndIdentifier(element, identifier) {\n        return new Scope(this.schema, element, identifier, this.logger);\n    }\n    scopeConnected(scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    }\n    scopeDisconnected(scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    }\n    connectModule(module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach(scope => module.connectContextForScope(scope));\n    }\n    disconnectModule(module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach(scope => module.disconnectContextForScope(scope));\n    }\n}\n\nconst defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\",\n    targetAttributeForScope: identifier => `data-${identifier}-target`\n};\n\nclass Application {\n    constructor(element = document.documentElement, schema = defaultSchema) {\n        this.logger = console;\n        this.debug = false;\n        this.logDebugActivity = (identifier, functionName, detail = {}) => {\n            if (this.debug) {\n                this.logFormattedMessage(identifier, functionName, detail);\n            }\n        };\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n    }\n    static start(element, schema) {\n        const application = new Application(element, schema);\n        application.start();\n        return application;\n    }\n    async start() {\n        await domReady();\n        this.logDebugActivity(\"application\", \"starting\");\n        this.dispatcher.start();\n        this.router.start();\n        this.logDebugActivity(\"application\", \"start\");\n    }\n    stop() {\n        this.logDebugActivity(\"application\", \"stopping\");\n        this.dispatcher.stop();\n        this.router.stop();\n        this.logDebugActivity(\"application\", \"stop\");\n    }\n    register(identifier, controllerConstructor) {\n        if (controllerConstructor.shouldLoad) {\n            this.load({ identifier, controllerConstructor });\n        }\n    }\n    load(head, ...rest) {\n        const definitions = Array.isArray(head) ? head : [head, ...rest];\n        definitions.forEach(definition => this.router.loadDefinition(definition));\n    }\n    unload(head, ...rest) {\n        const identifiers = Array.isArray(head) ? head : [head, ...rest];\n        identifiers.forEach(identifier => this.router.unloadIdentifier(identifier));\n    }\n    get controllers() {\n        return this.router.contexts.map(context => context.controller);\n    }\n    getControllerForElementAndIdentifier(element, identifier) {\n        const context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    }\n    handleError(error, message, detail) {\n        var _a;\n        this.logger.error(`%s\\n\\n%o\\n\\n%o`, message, error, detail);\n        (_a = window.onerror) === null || _a === void 0 ? void 0 : _a.call(window, message, \"\", 0, 0, error);\n    }\n    logFormattedMessage(identifier, functionName, detail = {}) {\n        detail = Object.assign({ application: this }, detail);\n        this.logger.groupCollapsed(`${identifier} #${functionName}`);\n        this.logger.log(\"details:\", Object.assign({}, detail));\n        this.logger.groupEnd();\n    }\n}\nfunction domReady() {\n    return new Promise(resolve => {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", () => resolve());\n        }\n        else {\n            resolve();\n        }\n    });\n}\n\nfunction ClassPropertiesBlessing(constructor) {\n    const classes = readInheritableStaticArrayValues(constructor, \"classes\");\n    return classes.reduce((properties, classDefinition) => {\n        return Object.assign(properties, propertiesForClassDefinition(classDefinition));\n    }, {});\n}\nfunction propertiesForClassDefinition(key) {\n    return {\n        [`${key}Class`]: {\n            get() {\n                const { classes } = this;\n                if (classes.has(key)) {\n                    return classes.get(key);\n                }\n                else {\n                    const attribute = classes.getAttributeName(key);\n                    throw new Error(`Missing attribute \"${attribute}\"`);\n                }\n            }\n        },\n        [`${key}Classes`]: {\n            get() {\n                return this.classes.getAll(key);\n            }\n        },\n        [`has${capitalize(key)}Class`]: {\n            get() {\n                return this.classes.has(key);\n            }\n        }\n    };\n}\n\nfunction TargetPropertiesBlessing(constructor) {\n    const targets = readInheritableStaticArrayValues(constructor, \"targets\");\n    return targets.reduce((properties, targetDefinition) => {\n        return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));\n    }, {});\n}\nfunction propertiesForTargetDefinition(name) {\n    return {\n        [`${name}Target`]: {\n            get() {\n                const target = this.targets.find(name);\n                if (target) {\n                    return target;\n                }\n                else {\n                    throw new Error(`Missing target element \"${name}\" for \"${this.identifier}\" controller`);\n                }\n            }\n        },\n        [`${name}Targets`]: {\n            get() {\n                return this.targets.findAll(name);\n            }\n        },\n        [`has${capitalize(name)}Target`]: {\n            get() {\n                return this.targets.has(name);\n            }\n        }\n    };\n}\n\nfunction ValuePropertiesBlessing(constructor) {\n    const valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, \"values\");\n    const propertyDescriptorMap = {\n        valueDescriptorMap: {\n            get() {\n                return valueDefinitionPairs.reduce((result, valueDefinitionPair) => {\n                    const valueDescriptor = parseValueDefinitionPair(valueDefinitionPair);\n                    const attributeName = this.data.getAttributeNameForKey(valueDescriptor.key);\n                    return Object.assign(result, { [attributeName]: valueDescriptor });\n                }, {});\n            }\n        }\n    };\n    return valueDefinitionPairs.reduce((properties, valueDefinitionPair) => {\n        return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));\n    }, propertyDescriptorMap);\n}\nfunction propertiesForValueDefinitionPair(valueDefinitionPair) {\n    const definition = parseValueDefinitionPair(valueDefinitionPair);\n    const { key, name, reader: read, writer: write } = definition;\n    return {\n        [name]: {\n            get() {\n                const value = this.data.get(key);\n                if (value !== null) {\n                    return read(value);\n                }\n                else {\n                    return definition.defaultValue;\n                }\n            },\n            set(value) {\n                if (value === undefined) {\n                    this.data.delete(key);\n                }\n                else {\n                    this.data.set(key, write(value));\n                }\n            }\n        },\n        [`has${capitalize(name)}`]: {\n            get() {\n                return this.data.has(key) || definition.hasCustomDefaultValue;\n            }\n        }\n    };\n}\nfunction parseValueDefinitionPair([token, typeDefinition]) {\n    return valueDescriptorForTokenAndTypeDefinition(token, typeDefinition);\n}\nfunction parseValueTypeConstant(constant) {\n    switch (constant) {\n        case Array: return \"array\";\n        case Boolean: return \"boolean\";\n        case Number: return \"number\";\n        case Object: return \"object\";\n        case String: return \"string\";\n    }\n}\nfunction parseValueTypeDefault(defaultValue) {\n    switch (typeof defaultValue) {\n        case \"boolean\": return \"boolean\";\n        case \"number\": return \"number\";\n        case \"string\": return \"string\";\n    }\n    if (Array.isArray(defaultValue))\n        return \"array\";\n    if (Object.prototype.toString.call(defaultValue) === \"[object Object]\")\n        return \"object\";\n}\nfunction parseValueTypeObject(typeObject) {\n    const typeFromObject = parseValueTypeConstant(typeObject.type);\n    if (typeFromObject) {\n        const defaultValueType = parseValueTypeDefault(typeObject.default);\n        if (typeFromObject !== defaultValueType) {\n            throw new Error(`Type \"${typeFromObject}\" must match the type of the default value. Given default value: \"${typeObject.default}\" as \"${defaultValueType}\"`);\n        }\n        return typeFromObject;\n    }\n}\nfunction parseValueTypeDefinition(typeDefinition) {\n    const typeFromObject = parseValueTypeObject(typeDefinition);\n    const typeFromDefaultValue = parseValueTypeDefault(typeDefinition);\n    const typeFromConstant = parseValueTypeConstant(typeDefinition);\n    const type = typeFromObject || typeFromDefaultValue || typeFromConstant;\n    if (type)\n        return type;\n    throw new Error(`Unknown value type \"${typeDefinition}\"`);\n}\nfunction defaultValueForDefinition(typeDefinition) {\n    const constant = parseValueTypeConstant(typeDefinition);\n    if (constant)\n        return defaultValuesByType[constant];\n    const defaultValue = typeDefinition.default;\n    if (defaultValue !== undefined)\n        return defaultValue;\n    return typeDefinition;\n}\nfunction valueDescriptorForTokenAndTypeDefinition(token, typeDefinition) {\n    const key = `${dasherize(token)}-value`;\n    const type = parseValueTypeDefinition(typeDefinition);\n    return {\n        type,\n        key,\n        name: camelize(key),\n        get defaultValue() { return defaultValueForDefinition(typeDefinition); },\n        get hasCustomDefaultValue() { return parseValueTypeDefault(typeDefinition) !== undefined; },\n        reader: readers[type],\n        writer: writers[type] || writers.default\n    };\n}\nconst defaultValuesByType = {\n    get array() { return []; },\n    boolean: false,\n    number: 0,\n    get object() { return {}; },\n    string: \"\"\n};\nconst readers = {\n    array(value) {\n        const array = JSON.parse(value);\n        if (!Array.isArray(array)) {\n            throw new TypeError(\"Expected array\");\n        }\n        return array;\n    },\n    boolean(value) {\n        return !(value == \"0\" || value == \"false\");\n    },\n    number(value) {\n        return Number(value);\n    },\n    object(value) {\n        const object = JSON.parse(value);\n        if (object === null || typeof object != \"object\" || Array.isArray(object)) {\n            throw new TypeError(\"Expected object\");\n        }\n        return object;\n    },\n    string(value) {\n        return value;\n    }\n};\nconst writers = {\n    default: writeString,\n    array: writeJSON,\n    object: writeJSON\n};\nfunction writeJSON(value) {\n    return JSON.stringify(value);\n}\nfunction writeString(value) {\n    return `${value}`;\n}\n\nclass Controller {\n    constructor(context) {\n        this.context = context;\n    }\n    static get shouldLoad() {\n        return true;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get targets() {\n        return this.scope.targets;\n    }\n    get classes() {\n        return this.scope.classes;\n    }\n    get data() {\n        return this.scope.data;\n    }\n    initialize() {\n    }\n    connect() {\n    }\n    disconnect() {\n    }\n    dispatch(eventName, { target = this.element, detail = {}, prefix = this.identifier, bubbles = true, cancelable = true } = {}) {\n        const type = prefix ? `${prefix}:${eventName}` : eventName;\n        const event = new CustomEvent(type, { detail, bubbles, cancelable });\n        target.dispatchEvent(event);\n        return event;\n    }\n}\nController.blessings = [ClassPropertiesBlessing, TargetPropertiesBlessing, ValuePropertiesBlessing];\nController.targets = [];\nController.values = {};\n\nexport { Application, AttributeObserver, Context, Controller, ElementObserver, IndexedMultimap, Multimap, StringMapObserver, TokenListObserver, ValueListObserver, add, defaultSchema, del, fetch, prune };\n","export function isNodeEnv() {\n    return (Object.prototype.toString.call(typeof process !== \"undefined\" ? process : 0) === \"[object process]\");\n}\nexport function getGlobalObject() {\n    return (isNodeEnv()\n        ? global\n        : typeof window !== \"undefined\"\n            ? window\n            : typeof self !== \"undefined\"\n                ? self\n                : {});\n}\n//# sourceMappingURL=environment.js.map","export default function(e,n){return n=n||{},new Promise(function(t,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var l in s.open(n.method||\"get\",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm,function(e,n,t){o.push(n=n.toLowerCase()),u.push([n,t]),i[n]=i[n]?i[n]+\",\"+t:t}),t(a())},s.onerror=r,s.withCredentials=\"include\"==n.credentials,n.headers)s.setRequestHeader(l,n.headers[l]);s.send(n.body||null)})}\n//# sourceMappingURL=unfetch.module.js.map\n","module.exports = self.fetch || (self.fetch = require('unfetch').default || require('unfetch'));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var map = {\n\t\"./example_controller.js\": 8\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 7;","import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  initialize() {\n    throw new Error(\"This is an error\")\n  }\n  // connect() {\n  //   this.element.textContent = \"It works!\"\n  // }\n}\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","import { __read, __spread } from \"tslib\";\nexport function compose() {\n    var funcs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        funcs[_i] = arguments[_i];\n    }\n    if (funcs.length === 0) {\n        return function (arg) { return arg; };\n    }\n    if (funcs.length === 1) {\n        return funcs[0];\n    }\n    return funcs.reduce(function (a, b) { return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return a(b.apply(void 0, __spread(args)));\n    }; });\n}\n//# sourceMappingURL=functional.js.map","export function toHashMapString(obj) {\n    if (!obj)\n        return;\n    Object.keys(obj).forEach(function (k) {\n        if (typeof obj[k] === \"object\") {\n            obj[k] = JSON.stringify(obj[k]);\n        }\n        obj[k] = String(obj[k]);\n    });\n    return obj;\n}\nexport function toHashMap(obj) {\n    if (!obj)\n        return;\n    Object.keys(obj).forEach(function (k) {\n        if (typeof obj[k] === \"string\" ||\n            typeof obj[k] === \"boolean\" ||\n            typeof obj[k] === \"number\") {\n            return;\n        }\n        obj[k] = JSON.stringify(obj[k]);\n    });\n    return obj;\n}\n//# sourceMappingURL=hashmap.js.map","export function isError(error) {\n    return (typeof error.message !== \"undefined\" &&\n        (typeof error.stacktrace !== \"undefined\" ||\n            typeof error[\"opera#sourceloc\"] !== \"undefined\" ||\n            typeof error.stack !== \"undefined\"));\n}\nexport function getStacktrace(error) {\n    if (typeof error.stacktrace !== \"undefined\" ||\n        typeof error[\"opera#sourceloc\"] !== \"undefined\") {\n        var _a = error.stacktrace, stacktrace = _a === void 0 ? \"\" : _a;\n        return stacktrace\n            .split(\"\\n\")\n            .filter(function (line) { return line !== \"\"; });\n    }\n    else if (error.stack) {\n        var _b = error.stack, stack = _b === void 0 ? \"\" : _b;\n        return stack.split(\"\\n\").filter(function (line) { return line !== \"\"; });\n    }\n    else {\n        return [\"No stacktrace available\"];\n    }\n}\n//# sourceMappingURL=error.js.map","export var isAsync = function (fn) { return fn.constructor.name === \"AsyncFunction\"; };\n//# sourceMappingURL=async.js.map","var Serializable = (function () {\n    function Serializable(data) {\n        this._data = data;\n    }\n    Serializable.prototype.toJSON = function () {\n        return JSON.stringify(this._data);\n    };\n    Serializable.prototype.serialize = function () {\n        return this._data;\n    };\n    return Serializable;\n}());\nexport { Serializable };\n//# sourceMappingURL=serializable.js.map","import { getGlobalObject, isNodeEnv } from \"@appsignal/core\";\nvar Environment = (function () {\n    function Environment() {\n    }\n    Environment.serialize = function () {\n        return {\n            transport: this.transport(),\n            origin: this.origin()\n        };\n    };\n    Environment.origin = function () {\n        var globals = getGlobalObject();\n        if (!globals.navigator ||\n            (globals.navigator.product === \"ReactNative\" && !globals.location)) {\n            return \"\";\n        }\n        return (globals.location.origin ||\n            globals.location.protocol + \"//\" + globals.location.hostname);\n    };\n    Environment.transport = function () {\n        var globals = getGlobalObject();\n        if (isNodeEnv() && typeof jest === \"undefined\") {\n            return \"NodeHTTP\";\n        }\n        else if (globals.XDomainRequest) {\n            return \"XDomainRequest\";\n        }\n        else if (globals.XMLHttpRequest && !globals.fetch) {\n            return \"XMLHttpRequest\";\n        }\n        else {\n            return \"fetch\";\n        }\n    };\n    Environment.supportsPromises = function () {\n        var globals = getGlobalObject();\n        return (\"Promise\" in globals &&\n            \"resolve\" in globals.Promise &&\n            \"reject\" in globals.Promise &&\n            \"all\" in globals.Promise &&\n            \"race\" in globals.Promise &&\n            (function () {\n                var resolve;\n                new globals.Promise(function (r) {\n                    resolve = r;\n                });\n                return typeof resolve === \"function\";\n            })());\n    };\n    return Environment;\n}());\nexport { Environment };\n//# sourceMappingURL=environment.js.map","var XDomainTransport = (function () {\n    function XDomainTransport(url) {\n        this.url = url;\n    }\n    XDomainTransport.prototype.send = function (data) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var _a;\n            var req = new XDomainRequest();\n            var rx = new RegExp(\"^https?:\");\n            req.onload = function () { return resolve({}); };\n            req.open(\"POST\", _this.url.replace(rx, (_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.protocol));\n            setTimeout(function () {\n                try {\n                    req.send(data);\n                }\n                catch (e) {\n                    reject(e);\n                }\n            }, 0);\n        });\n    };\n    return XDomainTransport;\n}());\nexport { XDomainTransport };\n//# sourceMappingURL=xdomain.js.map","var XHRTransport = (function () {\n    function XHRTransport(url) {\n        this.url = url;\n    }\n    XHRTransport.prototype.send = function (data) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            try {\n                var req_1 = new XMLHttpRequest();\n                req_1.onreadystatechange = function () {\n                    if (req_1.readyState === XMLHttpRequest.DONE) {\n                        resolve({});\n                    }\n                };\n                req_1.open(\"POST\", _this.url);\n                req_1.send(data);\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    };\n    return XHRTransport;\n}());\nexport { XHRTransport };\n//# sourceMappingURL=xhr.js.map","import { __awaiter, __generator } from \"tslib\";\nvar FetchTransport = (function () {\n    function FetchTransport(url, headers) {\n        this.url = url;\n    }\n    FetchTransport.prototype.send = function (data) {\n        return __awaiter(this, void 0, void 0, function () {\n            var res, statusText, ok;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, fetch(this.url, {\n                            method: \"POST\",\n                            body: data\n                        })];\n                    case 1:\n                        res = _a.sent();\n                        statusText = res.statusText, ok = res.ok;\n                        return [2, ok ? Promise.resolve({}) : Promise.reject({ statusText: statusText })];\n                }\n            });\n        });\n    };\n    return FetchTransport;\n}());\nexport { FetchTransport };\n//# sourceMappingURL=fetch.js.map","import https from \"https\";\nvar NodeTransport = (function () {\n    function NodeTransport(url) {\n        this.url = url;\n    }\n    NodeTransport.prototype.send = function (data) {\n        var _this = this;\n        var options = {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": data.length\n            }\n        };\n        return new Promise(function (resolve, reject) {\n            var req = https\n                .request(_this.url, options, function () { })\n                .on(\"error\", function (error) { return reject(error); });\n            req.write(data);\n            req.end();\n            resolve({});\n        });\n    };\n    return NodeTransport;\n}());\nexport { NodeTransport };\n//# sourceMappingURL=node.js.map","import { __awaiter, __generator } from \"tslib\";\nimport { urlEncode } from \"@appsignal/core\";\nimport { Environment } from \"./environment\";\nimport { XDomainTransport } from \"./transports/xdomain\";\nimport { XHRTransport } from \"./transports/xhr\";\nimport { FetchTransport } from \"./transports/fetch\";\nimport { NodeTransport } from \"./transports/node\";\nvar PushApi = (function () {\n    function PushApi(options) {\n        this._uri = options.uri || \"https://appsignal-endpoint.net/collect\";\n        this._apiKey = options.key;\n        this._clientVersion = options.version;\n        this._transport = this._createTransport(this._url());\n    }\n    PushApi.prototype.push = function (span) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this._transport.send(span.toJSON())];\n                    case 1:\n                        _a.sent();\n                        return [2, span];\n                }\n            });\n        });\n    };\n    PushApi.prototype._createTransport = function (url) {\n        switch (Environment.transport()) {\n            case \"XDomainRequest\":\n                return new XDomainTransport(url);\n            case \"XMLHttpRequest\":\n                return new XHRTransport(url);\n            case \"NodeHTTP\":\n                return new NodeTransport(url);\n            default:\n                return new FetchTransport(url);\n        }\n    };\n    PushApi.prototype._url = function () {\n        var auth = this._authorization();\n        return this._uri + \"?\" + urlEncode(auth);\n    };\n    PushApi.prototype._authorization = function () {\n        return {\n            api_key: this._apiKey,\n            version: this._clientVersion\n        };\n    };\n    return PushApi;\n}());\nexport { PushApi };\n//# sourceMappingURL=api.js.map","export function urlEncode(object) {\n    return Object.keys(object)\n        .map(function (key) { return encodeURIComponent(key) + \"=\" + encodeURIComponent(object[key]); })\n        .join(\"&\");\n}\n//# sourceMappingURL=url.js.map","import { __assign, __extends } from \"tslib\";\nimport { Serializable, getStacktrace, toHashMapString, isError } from \"@appsignal/core\";\nvar Span = (function (_super) {\n    __extends(Span, _super);\n    function Span(span) {\n        return _super.call(this, __assign({ timestamp: Math.round(new Date().getTime() / 1000), namespace: \"frontend\", error: {\n                name: \"NullError\",\n                message: \"No error has been set\",\n                backtrace: []\n            } }, span)) || this;\n    }\n    Span.prototype.setAction = function (name) {\n        if (!name || typeof name !== \"string\") {\n            return this;\n        }\n        this._data.action = name;\n        return this;\n    };\n    Span.prototype.setNamespace = function (name) {\n        if (!name || typeof name !== \"string\") {\n            return this;\n        }\n        this._data.namespace = name;\n        return this;\n    };\n    Span.prototype.setError = function (error) {\n        if (!error || !isError(error))\n            return this;\n        this._data.error = {\n            name: error.name || \"[unknown]\",\n            message: error.message,\n            backtrace: getStacktrace(error)\n        };\n        return this;\n    };\n    Span.prototype.setTags = function (tags) {\n        this._data.tags = __assign(__assign({}, this._data.tags), toHashMapString(tags));\n        return this;\n    };\n    Span.prototype.setParams = function (params) {\n        this._data.params = __assign(__assign({}, this._data.params), params);\n        return this;\n    };\n    Span.prototype.setBreadcrumbs = function (breadcrumbs) {\n        this._data.breadcrumbs = breadcrumbs;\n        return this;\n    };\n    return Span;\n}(Serializable));\nexport { Span };\n//# sourceMappingURL=span.js.map","import { __generator, __read, __spread } from \"tslib\";\nvar Queue = (function () {\n    function Queue(data) {\n        this._data = data || [];\n    }\n    Queue.prototype.clear = function () {\n        this._data = [];\n    };\n    Queue.prototype.values = function () {\n        return this._data;\n    };\n    Queue.prototype.push = function (item) {\n        var _a;\n        return Array.isArray(item)\n            ? (_a = this._data).push.apply(_a, __spread(item)) : this._data.push(item);\n    };\n    Queue.prototype.drain = function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(this._data.length > 0)) return [3, 2];\n                    return [4, this._data.shift()];\n                case 1:\n                    _a.sent();\n                    return [3, 0];\n                case 2: return [2];\n            }\n        });\n    };\n    return Queue;\n}());\nexport { Queue };\n//# sourceMappingURL=queue.js.map","import { __assign, __awaiter, __generator, __values } from \"tslib\";\nimport { getGlobalObject } from \"@appsignal/core\";\nvar Dispatcher = (function () {\n    function Dispatcher(queue, api, options) {\n        this._retries = 0;\n        this._timerID = 0;\n        this._duration = 0;\n        this._api = api;\n        this._queue = queue;\n        this.options = __assign({ limit: 5, initialDuration: 1000 }, options);\n        this.reset();\n    }\n    Dispatcher.prototype.schedule = function (time) {\n        var _this = this;\n        if (time === void 0) { time = this._duration; }\n        var globals = getGlobalObject();\n        var BACKOFF_FACTOR = 1.3;\n        var cb = function () { return __awaiter(_this, void 0, void 0, function () {\n            var _a, _b, span, e_1, expDuration, e_2_1;\n            var e_2, _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        _d.trys.push([0, 7, 8, 9]);\n                        _a = __values(this._queue.drain()), _b = _a.next();\n                        _d.label = 1;\n                    case 1:\n                        if (!!_b.done) return [3, 6];\n                        span = _b.value;\n                        if (!span)\n                            return [2];\n                        _d.label = 2;\n                    case 2:\n                        _d.trys.push([2, 4, , 5]);\n                        return [4, this._api.push(span)];\n                    case 3:\n                        _d.sent();\n                        return [3, 5];\n                    case 4:\n                        e_1 = _d.sent();\n                        expDuration = Math.floor(Math.pow(time, BACKOFF_FACTOR));\n                        this._retries = this._retries - 1;\n                        if (this._retries === 0) {\n                            this.reset();\n                        }\n                        else {\n                            this._queue.push(span);\n                            this._timerID = this.schedule(expDuration);\n                        }\n                        return [2];\n                    case 5:\n                        _b = _a.next();\n                        return [3, 1];\n                    case 6: return [3, 9];\n                    case 7:\n                        e_2_1 = _d.sent();\n                        e_2 = { error: e_2_1 };\n                        return [3, 9];\n                    case 8:\n                        try {\n                            if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                        return [7];\n                    case 9:\n                        this.reset();\n                        return [2];\n                }\n            });\n        }); };\n        return globals.setTimeout(cb, time);\n    };\n    Dispatcher.prototype.reset = function () {\n        var _a = this.options, limit = _a.limit, initialDuration = _a.initialDuration;\n        this._retries = limit;\n        this._duration = initialDuration;\n    };\n    return Dispatcher;\n}());\nexport { Dispatcher };\n//# sourceMappingURL=dispatcher.js.map","// This file is autogenerated when running rake app:run\n\nimport Appsignal from \"@appsignal/javascript\";\n\nexport default new Appsignal({\n  key: \"frontend-key\",\n  revision: \"revision\",\n  uri: \"http://localhost:4567/collect\"\n});\n","import { __assign, __awaiter, __generator, __read, __spread } from \"tslib\";\nimport { compose, toHashMap } from \"@appsignal/core\";\nimport { VERSION } from \"./version\";\nimport { PushApi } from \"./api\";\nimport { Environment } from \"./environment\";\nimport { Span } from \"./span\";\nimport { Queue } from \"./queue\";\nimport { Dispatcher } from \"./dispatcher\";\nvar Appsignal = (function () {\n    function Appsignal(options) {\n        this.VERSION = VERSION;\n        this.ignored = [];\n        this._breadcrumbs = [];\n        this._hooks = {\n            decorators: Array(),\n            overrides: Array()\n        };\n        this._env = Environment.serialize();\n        this._queue = new Queue([]);\n        var _a = options.key, key = _a === void 0 ? \"\" : _a, uri = options.uri, revision = options.revision, ignoreErrors = options.ignoreErrors;\n        if (revision && typeof revision !== \"string\") {\n            options.revision = String(revision);\n        }\n        if (key === \"\") {\n            console.info(\"[APPSIGNAL]: Started in development mode.\");\n        }\n        this._api = new PushApi({\n            key: key,\n            uri: uri,\n            version: this.VERSION\n        });\n        if (ignoreErrors && Array.isArray(ignoreErrors)) {\n            this.ignored = ignoreErrors;\n        }\n        this._dispatcher = new Dispatcher(this._queue, this._api);\n        this._options = options;\n    }\n    Appsignal.prototype.send = function (data, tagsOrFn, namespace) {\n        var _this = this;\n        if (!(data instanceof Error) && !(data instanceof Span)) {\n            console.error(\"[APPSIGNAL]: Can't send error, given error is not a valid type\");\n            return;\n        }\n        if (this.ignored.length !== 0) {\n            if (data instanceof Error &&\n                this.ignored.some(function (el) { return el.test(data.message); })) {\n                console.warn(\"[APPSIGNAL]: Ignored an error: \" + data.message);\n                return;\n            }\n            if (data instanceof Span) {\n                var error_1 = data.serialize().error;\n                if (error_1.message && this.ignored.some(function (el) { return el.test(error_1.message); })) {\n                    console.warn(\"[APPSIGNAL]: Ignored a span: \" + error_1.message);\n                    return;\n                }\n            }\n        }\n        var span = data instanceof Span ? data : this._createSpanFromError(data);\n        if (this._hooks.decorators.length > 0) {\n            compose.apply(void 0, __spread(this._hooks.decorators))(span);\n        }\n        if (tagsOrFn) {\n            if (typeof tagsOrFn === \"function\") {\n                var callback = tagsOrFn;\n                callback(span);\n            }\n            else {\n                console.warn(\"[APPSIGNAL]: DEPRECATED: Calling the `send`/`sendError` function with a tags object is deprecated. Use the callback argument instead.\");\n                var tags = (toHashMap(tagsOrFn) || {});\n                span.setTags(tags);\n            }\n        }\n        if (namespace) {\n            console.warn(\"[APPSIGNAL]: DEPRECATED: Calling the `send`/`sendError` function with a namespace is deprecated. Use the callback argument instead.\");\n            span.setNamespace(namespace);\n        }\n        if (this._breadcrumbs.length > 0)\n            span.setBreadcrumbs(this._breadcrumbs);\n        if (this._hooks.overrides.length > 0) {\n            compose.apply(void 0, __spread(this._hooks.overrides))(span);\n        }\n        if (Environment.supportsPromises()) {\n            this._breadcrumbs = [];\n            if (!this._options.key) {\n                console.warn(\"[APPSIGNAL]: Span not sent because we're in development mode:\", span);\n                if (data instanceof Error) {\n                    throw data;\n                }\n            }\n            else {\n                return this._api.push(span).catch(function () {\n                    _this._queue.push(span);\n                    setTimeout(function () { return _this._dispatcher.schedule(); }, 0);\n                });\n            }\n        }\n        else {\n            console.error(\"[APPSIGNAL]: Error not sent. A Promise polyfill is required.\");\n            return;\n        }\n    };\n    Appsignal.prototype.sendError = function (error, tagsOrFn, namespace) {\n        return this.send(error, tagsOrFn, namespace);\n    };\n    Appsignal.prototype.use = function (plugin) {\n        plugin.call(this);\n    };\n    Appsignal.prototype.createSpan = function (fn) {\n        var _a = this._options, _b = _a.revision, revision = _b === void 0 ? \"\" : _b, namespace = _a.namespace;\n        var span = new Span({\n            environment: this._env,\n            revision: revision\n        });\n        if (namespace)\n            span.setNamespace(namespace);\n        if (fn && typeof fn === \"function\")\n            fn(span);\n        return span;\n    };\n    Appsignal.prototype.wrap = function (fn, tagsOrFn, namespace) {\n        return __awaiter(this, void 0, void 0, function () {\n            var e_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 4]);\n                        return [4, fn()];\n                    case 1: return [2, _a.sent()];\n                    case 2:\n                        e_1 = _a.sent();\n                        return [4, this.sendError(e_1, tagsOrFn, namespace)];\n                    case 3:\n                        _a.sent();\n                        return [2, Promise.reject(e_1)];\n                    case 4: return [2];\n                }\n            });\n        });\n    };\n    Appsignal.prototype.addDecorator = function (decorator) {\n        this._hooks.decorators.push(decorator);\n    };\n    Appsignal.prototype.addOverride = function (override) {\n        this._hooks.overrides.push(override);\n    };\n    Appsignal.prototype.demo = function () {\n        var span = this._createSpanFromError(new Error(\"Hello world! This is an error used for demonstration purposes.\"));\n        span\n            .setAction(\"TestAction\")\n            .setParams({\n            path: \"/hello\",\n            method: \"GET\"\n        })\n            .setTags({\n            demo_sample: \"true\"\n        });\n        this.send(span);\n    };\n    Appsignal.prototype.addBreadcrumb = function (breadcrumb) {\n        var crumb = __assign(__assign({ timestamp: Math.round(new Date().getTime() / 1000) }, breadcrumb), { metadata: toHashMap(breadcrumb.metadata) });\n        if (!crumb.category) {\n            console.warn(\"[APPSIGNAL]: Breadcrumb not added. `category` is missing.\");\n            return;\n        }\n        if (!crumb.action) {\n            console.warn(\"[APPSIGNAL]: Breadcrumb not added. `action` is missing.\");\n            return;\n        }\n        if (this._breadcrumbs.length === 20) {\n            this._breadcrumbs.pop();\n        }\n        this._breadcrumbs.unshift(crumb);\n    };\n    Appsignal.prototype._createSpanFromError = function (error) {\n        var event = this.createSpan();\n        event.setError(error);\n        return event;\n    };\n    return Appsignal;\n}());\nexport default Appsignal;\n//# sourceMappingURL=index.js.map","export var VERSION = \"1.3.22\";\n//# sourceMappingURL=version.js.map","import { Application } from \"@hotwired/stimulus\"\nimport { definitionsFromContext } from \"@hotwired/stimulus-webpack-helpers\"\nimport appsignal from './appsignal';\nimport { installErrorHandler } from \"@appsignal/stimulus\"\n\nconst application = Application.start()\ninstallErrorHandler(appsignal, application)\nconst context = require.context(\"./controllers\", true, /\\.js$/)\napplication.load(definitionsFromContext(context))\n","export function installErrorHandler(appsignal, application) {\n    var prevHandler = application.handleError;\n    application.handleError = function (error, message) {\n        var span = appsignal.createSpan(function (span) {\n            return span.setTags({ framework: \"Stimulus\", message: message }).setError(error);\n        });\n        appsignal.send(span);\n        if (prevHandler && typeof prevHandler === \"function\") {\n            prevHandler.apply(this, arguments);\n        }\n    };\n}\n//# sourceMappingURL=index.js.map","/*\nStimulus Webpack Helpers 1.0.0\nCopyright © 2021 Basecamp, LLC\n */\nfunction definitionsFromContext(context) {\n    return context.keys()\n        .map((key) => definitionForModuleWithContextAndKey(context, key))\n        .filter((value) => value);\n}\nfunction definitionForModuleWithContextAndKey(context, key) {\n    const identifier = identifierForContextKey(key);\n    if (identifier) {\n        return definitionForModuleAndIdentifier(context(key), identifier);\n    }\n}\nfunction definitionForModuleAndIdentifier(module, identifier) {\n    const controllerConstructor = module.default;\n    if (typeof controllerConstructor == \"function\") {\n        return { identifier, controllerConstructor };\n    }\n}\nfunction identifierForContextKey(key) {\n    const logicalName = (key.match(/^(?:\\.\\/)?(.+)(?:[_-]controller\\..+?)$/) || [])[1];\n    if (logicalName) {\n        return logicalName.replace(/_/g, \"-\").replace(/\\//g, \"--\");\n    }\n}\n\nexport { definitionForModuleAndIdentifier, definitionForModuleWithContextAndKey, definitionsFromContext, identifierForContextKey };\n"],"sourceRoot":""}